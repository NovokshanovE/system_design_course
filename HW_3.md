# HW3 - Ищем недостатки

## Паттерн: Retry Policy

**Retry Policy** - повторная отправка запроса при ошибке (таймауты, 5xx), если предполагается, что ошибка временная.

---

## Ситуация применения

Есть сервис оформления заказа, который при создании заказа обращается к внешнему платежному сервису.  
Платежный сервис иногда отвечает с ошибками или медленно.

Чтобы повысить надежность, добавляют Retry Policy:
- до 3 повторных попыток;
- ретраи выполняются автоматически при ошибках.

---

## Проблема

Во время пиковых нагрузок (распродажи) платежный сервис начинает деградировать.  
Retry Policy приводит к тому, что каждый неуспешный запрос порождает несколько повторных, из-за чего:

- нагрузка на платежный сервис резко возрастает;
- время ответа увеличивается, пользователь дольше ждет результат;
- вместо быстрого отказа система долго «висит»;
- возможны побочные эффекты, например повторные списания, если идемпотентность реализована некорректно.

В итоге ретраи не помогают, а только усиливают деградацию и могут привести к каскадному отказу.

---

## Вывод

Retry Policy выглядит полезным, но при применении без ограничений может ухудшить ситуацию: увеличить нагрузку, latency и масштаб инцидента.  
Использовать его стоит осторожно и только для действительно безопасных операций.
